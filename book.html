<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Space Weather — Flipbook</title>

  <!-- Styles -->
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="book.css" />

  <style>
    .page {
      position: relative;
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      width: 100%;
      height: 100%;
    }

    .page-text-top, .page-text-bottom, .page-text-dialogue, .page-text-info {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      font-family: "Comic Sans MS", "Poppins", sans-serif;
      color: #fff6c2;
      background: rgba(0,0,0,0.35);
      border-radius: 15px;
      box-shadow: 0 0 25px rgba(255,255,200,0.4);
      text-shadow: 1px 1px 3px #000;
      font-weight: 600;
      line-height: 1.5;
      z-index: 2;
      padding: 12px 18px;
      opacity: 1;
    }

    .page-text-top { top: 25px; width: 85%; font-size: 1.8rem; }
    .page-text-bottom { bottom: 30px; width: 85%; font-size: 1.8rem; }
    .page-text-dialogue { bottom: 120px; width: 70%; font-size: 1.6rem; background: rgba(0,0,0,0.45); border: 2px solid rgba(255,255,255,0.4); }
    .page-text-info { bottom: 45px; width: 80%; font-size: 1.6rem; background: rgba(20,20,20,0.45); border: 1px solid rgba(255,255,255,0.25); }

    .page-text-top b, .page-text-bottom b, .page-text-dialogue b, .page-text-info b {
      color: #ffe15a;
      font-weight: 800;
    }

    .disclaimer-title {
      display: block;
      font-size: 2rem;
      font-weight: 900;
      color: #ffe15a;
      margin-bottom: 15px;
      text-transform: uppercase;
    }

    body:not(.fullscreen) .page-text-top,
    body:not(.fullscreen) .page-text-bottom,
    body:not(.fullscreen) .page-text-dialogue,
    body:not(.fullscreen) .page-text-info {
      font-size: 1.3rem;
      padding: 8px 12px;
    }

    .controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      margin-top: 20px;
    }

    .controls button {
      background-color: #fff;
      color: #000;
      border: none;
      border-radius: 8px;
      padding: 10px 16px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: bold;
      transition: 0.3s;
    }

    .controls button:hover {
      background-color: #ffd966;
      transform: scale(1.05);
    }

    .fullscreen .flipbook {
      width: 100vw;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 100;
      background: #000;
    }

    .fullscreen .controls {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 101;
    }
  </style>
</head>

<body>
  <!-- Navbar -->
  <div class="w3-top">
    <div class="w3-bar w3-white w3-card" id="myNavbar">
      <a href="index.html#home" class="w3-bar-item w3-button w3-wide">SPACE WEATHER</a>
      <div class="w3-right w3-hide-small">
        <a href="index.html#home" class="w3-bar-item w3-button">HOME</a>
        <a href="book.html" class="w3-bar-item w3-button"><i class="fa fa-book"></i> BOOK</a>
        <a href="solarflare.html" class="w3-bar-item w3-button"><i class="fa fa-sun-o"></i> SOLAR FLARES</a>
        <a href="characters.html" class="w3-bar-item w3-button"><i class="fa fa-users"></i> CHARACTERS</a>
      </div>
    </div>
  </div>

  <!-- Flipbook -->
  <main>
    <div class="flipbook" id="flipbook"></div>
    <div class="controls">
      <button id="prevBtn"><i class="fa fa-arrow-left"></i> Back</button>
      <span id="pageIndicator">1 / 16</span>
      <button id="nextBtn">Next <i class="fa fa-arrow-right"></i></button>
      <button id="fullscreenBtn"><i class="fa fa-expand"></i> Full Screen</button>
    </div>
  </main>

  <script>
    const flipbook = document.getElementById("flipbook");
    const indicator = document.getElementById("pageIndicator");
    const nextBtn = document.getElementById("nextBtn");
    const prevBtn = document.getElementById("prevBtn");
    const fullscreenBtn = document.getElementById("fullscreenBtn");
    const totalPages = 16;
    let currentPage = 1;

    for (let i = 1; i <= totalPages; i++) {
      const page = document.createElement("div");
      page.classList.add("page");
      if (i !== 1) page.classList.add("hidden");
      page.style.backgroundImage = `url('page${i}.png')`;
      if (i === 1) page.style.backgroundPosition = "center 60px";

      // PAGE 2
      if (i === 2) {
        const top = document.createElement("div");
        top.classList.add("page-text-top");
        top.innerHTML = `This is <b>Sunny</b>. Sunny is taking a nap.<br>Sunny is a restless sleeper. As Sunny turns, her magnetic waves get tangled.`;
        page.appendChild(top);

        const bottom = document.createElement("div");
        bottom.classList.add("page-text-bottom");
        bottom.innerHTML = `Oh no! Some strands snapped!<br>This creates a bright light known as a <b>Solar Flare</b> and releases large amounts of energy.`;
        page.appendChild(bottom);
      }

      // PAGE 3
      if (i === 3) {
        const top = document.createElement("div");
        top.classList.add("page-text-top");
        top.innerHTML = `Solar particles get propelled through space at high speeds.<br>This is called a <b>radiation storm</b>.`;
        page.appendChild(top);

        const bottom = document.createElement("div");
        bottom.classList.add("page-text-bottom");
        bottom.innerHTML = `This is <b>Cemy</b>. Cemy is a <b>Coronal Mass Ejection (CME)</b>, which is an enormous cloud of solar material.<br>Cemy is surrounded by his own magnetic field.`;
        page.appendChild(bottom);
      }

      // PAGE 4
      if (i === 4) {
        const top = document.createElement("div");
        top.classList.add("page-text-top");
        top.innerHTML = `<b>Cemy</b> has approached a rocket!<br>This is <b>Astro the Astronaut's</b> rocket.`;
        page.appendChild(top);

        const dialogue = document.createElement("div");
        dialogue.classList.add("page-text-dialogue");
        dialogue.innerHTML = `<b>Astro (on the phone):</b> “Hey, Skye! Yeah, I'm just heading out to my spacewalk soon. How—” (cuts off)`;
        page.appendChild(dialogue);

        const info = document.createElement("div");
        info.classList.add("page-text-info");
        info.innerHTML = `It looks like <b>Cemy’s magnetic field</b> is messing with the <b>magnetic field</b> of Astro’s rocket!`;
        page.appendChild(info);
      }

      // PAGE 5–11
      if (i === 5) {
        const top = document.createElement("div");
        top.classList.add("page-text-top");
        top.innerHTML = `<b>Cemy</b> left <b>Astro's ship</b> in a jumble!`;
        page.appendChild(top);

        const bottom = document.createElement("div");
        bottom.classList.add("page-text-bottom");
        bottom.innerHTML = `The <b>communication</b> and <b>navigation systems</b> are down.<br>This is dangerous for <b>Astro</b>!`;
        page.appendChild(bottom);
      }

      if (i === 6) {
        const top = document.createElement("div");
        top.classList.add("page-text-top");
        top.innerHTML = `<b>Astro:</b> “Woah! Everything is falling! That big burst of particles must have caused this!”`;
        page.appendChild(top);

        const bottom = document.createElement("div");
        bottom.classList.add("page-text-bottom");
        bottom.innerHTML = `<b>Astro:</b> “Now I can't go on my spacewalk!”`;
        page.appendChild(bottom);
      }

      if (i === 7) {
        const top = document.createElement("div");
        top.classList.add("page-text-top");
        top.innerHTML = `This is <b>Captain Skye</b>.<br>Captain Skye is a <b>pilot</b> flying across the <b>Poles</b> to make an important shipment.`;
        page.appendChild(top);

        const dialogue = document.createElement("div");
        dialogue.classList.add("page-text-dialogue");
        dialogue.innerHTML = `<b>Phone:</b> “Hey Skye [static] I'm just heading out—”`;
        page.appendChild(dialogue);
      }

      if (i === 8) {
        const top = document.createElement("div");
        top.classList.add("page-text-top");
        top.innerHTML = `Oh no! <b>Cemy</b> is at it again!<br>His <b>magnetic waves</b> are interfering with the plane’s <b>radio</b> and <b>autopilot</b> devices!`;
        page.appendChild(top);

        const dialogue = document.createElement("div");
        dialogue.classList.add("page-text-dialogue");
        dialogue.style.bottom = "90px";
        dialogue.innerHTML = `<b>Skye:</b> “Hello? Tower, can you read me? I believe we hit a <b>solar storm</b>.<br>Switching to manual control and making an emergency landing.”`;
        page.appendChild(dialogue);
      }

      if (i === 9) {
        const top = document.createElement("div");
        top.classList.add("page-text-top");
        top.innerHTML = `<b>Farmer Sam</b> is using his tractor to tend to the crops.<br>The receiver in the tractor helps Sam find his way through the tall corn fields.`;
        page.appendChild(top);

        const thought = document.createElement("div");
        thought.classList.add("page-text-dialogue");
        thought.innerHTML = `<b>Farmer Sam’s Thoughts:</b> “Hm, looks like my fertilizer shipment is late today.”`;
        page.appendChild(thought);
      }

      if (i === 10) {
        const top = document.createElement("div");
        top.classList.add("page-text-top");
        top.innerHTML = `Not again! <b>Cemy</b>! What a troublesome storm!`;
        page.appendChild(top);

        const bottom = document.createElement("div");
        bottom.classList.add("page-text-bottom");
        bottom.innerHTML = `The tractor is veering off course!<br><b>Watch out, Sam!</b>`;
        page.appendChild(bottom);
      }

      if (i === 11) {
        const top = document.createElement("div");
        top.classList.add("page-text-top");
        top.innerHTML = `<b>Yikes!</b> It looks like <b>Farmer Sam</b> accidentally drove into the pond!`;
        page.appendChild(top);

        const bottom = document.createElement("div");
        bottom.classList.add("page-text-bottom");
        bottom.innerHTML = `This will take a while to fix.<br>He won’t be able to sell as much corn today.`;
        page.appendChild(bottom);
      }

      // PAGE 12–16 (new)
      if (i === 12) {
        const dialogue = document.createElement("div");
        dialogue.classList.add("page-text-top");
        dialogue.innerHTML = `<b>Stella:</b> “Mom, is there any popcorn left?”<br><b>Mom (offscreen):</b> “Sorry, Stella, there wasn’t any popcorn left at the store. Do you still want to watch the movie?”<br><b>Stella:</b> “No, that’s okay. Let’s skip it tonight.”`;
        page.appendChild(dialogue);
      }

      if (i === 13) {
        const dialogue = document.createElement("div");
        dialogue.classList.add("page-text-top");
        dialogue.innerHTML = `<b>Stella:</b> “Oh! Who are you?”<br><b>Cemy:</b> “I’m Cemy, a Coronal Mass Ejection. I’ve travelled here all the way from the Sun, disrupting all kinds of gadgets and machines with my electromagnetic field! There was a rocket ship, an airplane, and even a tractor!”`;
        page.appendChild(dialogue);
      }

      if (i === 14) {
        const dialogue = document.createElement("div");
        dialogue.classList.add("page-text-top");
        dialogue.innerHTML = `<b>Stella:</b> “Oh no! Cemy that’s terrible! You made the rocket break down, the airplane lose control, and the tractor crash! That could have seriously hurt people!”<br><b>Cemy:</b> “I’m sorry! I didn’t want to hurt anybody! I just cause trouble wherever I go. I can’t help it!”`;
        page.appendChild(dialogue);
      }

      if (i === 15) {
        const dialogue = document.createElement("div");
        dialogue.classList.add("page-text-top");
        dialogue.innerHTML = `<b>Stella:</b> “Thank you, Cemy. That’s Beautiful.”<br><br><b>~ The End ~</b>`;
        page.appendChild(dialogue);
      }

      if (i === 16) {
        const disclaimer = document.createElement("div");
        disclaimer.classList.add("page-text-top");
        disclaimer.style.top = "50%";
        disclaimer.style.transform = "translate(-50%, -50%)";
        disclaimer.style.width = "90%";
        disclaimer.style.fontSize = "1.5rem";
        disclaimer.innerHTML = `
          <span class="disclaimer-title">Disclaimer Page:</span>
          While Cemy's story is a work of fiction, <b>Coronal Mass Ejections (CMEs)</b> are real and they do cause
          electromagnetic disturbances that affect our technologies and climate.<br><br>
          These releases of solar energy happen all the time, but most do not get past Earth's own electromagnetic shield,
          causing beautiful <b>auroras</b>.<br><br>
          To help prepare us for the ones that do, <b>NASA</b> collects solar flare imaging and data using their satellites.
        `;
        page.appendChild(disclaimer);
      }

      flipbook.appendChild(page);
    }

    const pages = document.querySelectorAll(".page");
    function updateBook() {
      pages.forEach((p, i) => p.classList.toggle("hidden", i !== currentPage - 1));
      indicator.textContent = `${currentPage} / ${totalPages}`;
    }

    nextBtn.onclick = () => { if (currentPage < totalPages) { currentPage++; updateBook(); } };
    prevBtn.onclick = () => { if (currentPage > 1) { currentPage--; updateBook(); } };

    fullscreenBtn.onclick = () => {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
        document.body.classList.add("fullscreen");
        fullscreenBtn.innerHTML = '<i class="fa fa-compress"></i> Exit Full Screen';
      } else {
        document.exitFullscreen();
        document.body.classList.remove("fullscreen");
        fullscreenBtn.innerHTML = '<i class="fa fa-expand"></i> Full Screen';
      }
    };
  </script>
</body>
</html>
